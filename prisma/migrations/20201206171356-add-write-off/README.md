# Migration `20201206171356-add-write-off`

This migration has been generated by dannying at 12/6/2020, 8:13:56 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "WriteOff" (
"id" SERIAL,
    "name" TEXT NOT NULL,
    "count" DECIMAL(65,30) NOT NULL DEFAULT 1,
    "storeId" INTEGER NOT NULL,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "note" TEXT,

    PRIMARY KEY ("id")
)

ALTER TABLE "WriteOff" ADD FOREIGN KEY("storeId")REFERENCES "Store"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201206165928-add-note-to-incoming-good..20201206171356-add-write-off
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Store {
   id           Int            @id @default(autoincrement())
@@ -45,8 +45,18 @@
   price     Int
   note      String?
 }
+model WriteOff {
+  id        Int      @id @default(autoincrement())
+  name      String
+  count     Float    @default(1)
+  store     Store    @relation(fields: [storeId], references: [id])
+  storeId   Int
+  createdAt DateTime @default(now())
+  note      String?
+}
+
 model Sale {
   id        Int      @id @default(autoincrement())
   store     Store    @relation(fields: [storeId], references: [id])
   storeId   Int
```


